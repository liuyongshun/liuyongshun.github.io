<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>七月</title>
  <meta name="baidu-site-verification" content="vdMfpFtVYF">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Smiple, 简, jian, 简博客">
  <meta name="description" content="得与失之间，是我所有的美好和思念">
<meta name="keywords" content="Smiple, 简, jian, 简博客">
<meta property="og:type" content="website">
<meta property="og:title" content="七月">
<meta property="og:url" content="http://liuyongshun.github.io/page/31/index.html">
<meta property="og:site_name" content="七月">
<meta property="og:description" content="得与失之间，是我所有的美好和思念">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="七月">
<meta name="twitter:description" content="得与失之间，是我所有的美好和思念">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

  <script></script>
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">七月</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">是七月呀</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/link">链接</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://liuyongshun.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JS-principle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/09/03/JS-principle/" class="article-date">
  <time datetime="2019-09-02T20:29:17.000Z" itemprop="datePublished">2019-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JS/">JS</a>►<a class="article-category-link" href="/categories/JS/principle/">principle</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/09/03/JS-principle/">principle</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h3><h4 id="1、函数声明可以提升"><a href="#1、函数声明可以提升" class="headerlink" title="1、函数声明可以提升"></a>1、函数声明可以提升</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo() //  3</span><br><span class="line">function foo() &#123;</span><br><span class="line">    console.log(3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2、变量可以提升，但是赋值不能提升"><a href="#2、变量可以提升，但是赋值不能提升" class="headerlink" title="2、变量可以提升，但是赋值不能提升"></a>2、变量可以提升，但是赋值不能提升</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fooNext() // Uncaught TypeError: fooNext is not a function</span><br><span class="line">var fooNext = function () &#123;</span><br><span class="line">    console.log(2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>直接打印d会报错，但是打印下面声明了d则提示undefined</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(d) // Uncaught ReferenceError: d is not defined</span><br><span class="line"></span><br><span class="line">// =========</span><br><span class="line">console.log(d)  // undefined</span><br><span class="line">var d</span><br></pre></td></tr></table></figure>
<h4 id="3、提升示例1"><a href="#3、提升示例1" class="headerlink" title="3、提升示例1"></a>3、提升示例1</h4><p>这个结果并不是2，首先在函数obj内，是可以访问到全局变量o的。但是由于函数内部声明了一个局部的同名变量o，由于变量被提升到执行环境顶端，覆盖掉了全局的声明。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var o = 2;</span><br><span class="line">function obj() &#123;</span><br><span class="line">    console.log(o)</span><br><span class="line">    var o;</span><br><span class="line">&#125;</span><br><span class="line">obj();  // undefined</span><br><span class="line"></span><br><span class="line">// 由于声明提升，可以简单理解为等价于下面这样，内部声明的o覆盖掉了全局的o</span><br><span class="line">function obj() &#123;</span><br><span class="line">    var o;</span><br><span class="line">    console.log(o)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4、提升示例2"><a href="#4、提升示例2" class="headerlink" title="4、提升示例2"></a>4、提升示例2</h4><p>这里有两个坑，一是块级作用域，二是变量提升，首先｛｝没有块级作用域，所以a被提升到全局环境最前面，所以a in window 是true，取反后为false所以不执行var赋值语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (!(&apos;foo&apos; in window)) &#123;</span><br><span class="line">    var foo = 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(foo); // undefined</span><br></pre></td></tr></table></figure>
<h4 id="5、提升示例3"><a href="#5、提升示例3" class="headerlink" title="5、提升示例3"></a>5、提升示例3</h4><p>函数声明会覆盖变量声明，但不会覆盖变量赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;</span><br><span class="line">var foo;</span><br><span class="line">console.log(foo); // foo()&#123;console.log(2);&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function foo() &#123;</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;</span><br><span class="line">var foo = 3;</span><br><span class="line">console.log(foo);  // 3</span><br></pre></td></tr></table></figure>
<h3 id="js应用环境"><a href="#js应用环境" class="headerlink" title="js应用环境"></a>js应用环境</h3><ul>
<li><p>宿主环境, 壳程序(shell)和web浏览器.</p>
</li>
<li><p>运行环境是js引擎内建的.</p>
</li>
</ul>
<h3 id="js调用栈"><a href="#js调用栈" class="headerlink" title="js调用栈"></a>js调用栈</h3><p>一个静态的,为调用的函数只是一个值,一但调用,系统将当前函数入栈,并保留函数的执行指针.执行完后,出栈,并继续执行指针后的代码</p>
<h3 id="callee"><a href="#callee" class="headerlink" title="callee"></a>callee</h3><p>arguments对象拥有一个callee,该成员总指向该参数arguments的创建函数.</p>
<p>函数递归和匿名递归都可以写成:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">void funtion () &#123;</span><br><span class="line">  arguments.callee()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Proxy-和-Object-defineProperty"><a href="#Proxy-和-Object-defineProperty" class="headerlink" title="Proxy 和 Object.defineProperty"></a>Proxy 和 Object.defineProperty</h3><h4 id="Object-defineProperty-描述符可拥有的键值"><a href="#Object-defineProperty-描述符可拥有的键值" class="headerlink" title="Object.defineProperty 描述符可拥有的键值"></a>Object.defineProperty 描述符可拥有的键值</h4><table>
<thead>
<tr>
<th></th>
<th>configurable</th>
<th>enumerable</th>
<th>value</th>
<th>writable</th>
<th>get</th>
<th>set</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>数据描述符|  可以| 可以| 可以| 可以| 不可以|    不可以<br>存取描述符   |可以 |可以 |不可以|   不可以|    可以| 可以</p>
<ul>
<li><p>如果一个描述符不具有 value、writable、get 和 set 中的任意一个键，那么它将被认为是一个数据描述符</p>
</li>
<li><p>如果一个描述符同时拥有 value 或 writable 和 get 或 set 键，则会产生一个异常</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li><p>Object.defineProperty的第一个缺陷,无法监听数组变化</p>
</li>
<li><p>Object.defineProperty的第二个缺陷,只能劫持对象的属性,因此我们需要对每个对象的每个属性进行遍历</p>
</li>
</ul>
<p><strong>优点</strong></p>
<ul>
<li>兼容性好</li>
</ul>
<h4 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h4><p><strong>优点</strong></p>
<ul>
<li><p>Proxy有多达13种拦截方法,不限于apply、ownKeys、deleteProperty、has等等是Object.defineProperty不具备的</p>
</li>
<li><p>Proxy返回的是一个新对象,我们可以只操作新的对象达到目的,而Object.defineProperty只能遍历对象属性直接修改</p>
</li>
<li><p>Proxy作为新标准将受到浏览器厂商重点持续的性能优化，也就是传说中的新标准的性能红利</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>当然,Proxy的劣势就是兼容性问题,而且无法用polyfill磨平,因此Vue的作者才声明需要等到下个大版本(3.0)才能用Proxy重写</li>
</ul>
<h3 id="Reflect-作用"><a href="#Reflect-作用" class="headerlink" title="Reflect 作用"></a>Reflect 作用</h3><ol>
<li><p>将Object对象的一些属于语言内部的方法（比如Object.defineProperty），放到Reflect对象上</p>
</li>
<li><p>修改某些Object方法的返回结果，让其变得更合理。比如，Object.defineProperty(obj, name, desc)在无法定义属性时，会抛出一个错误，而Reflect.defineProperty(obj, name, desc)则会返回false</p>
</li>
<li><p>让Object操作都变成函数行为。比如name in obj和delete obj[name]，而Reflect.has(obj, name)和Reflect.deleteProperty(obj, name)让它们变成了函数行为</p>
</li>
<li><p>让Proxy对象可以方便地调用对应的Reflect方法，完成默认行为，作为修改行为的基础</p>
</li>
</ol>
<h3 id="函数编程"><a href="#函数编程" class="headerlink" title="函数编程"></a>函数编程</h3><p>重点: 在内部保存数据和对外无副作用, 由闭包实现</p>
<p>闭包两个特性:</p>
<ul>
<li><p>在函数执行过程中,处于激活状态,可访问</p>
</li>
<li><p>在函数运行结束后,保持运行过程中最终数据状态.</p>
</li>
</ul>
<p>函数调用方式</p>
<ul>
<li><p>方法调用,此时this指向该对象</p>
</li>
<li><p>函数调用,此时this指向window</p>
</li>
<li><p>构造器调用, 通过函数前加new调用,将创建一个隐藏链接到该函数的prototype原型对象的新实例对象,同时this会指向新对象.</p>
</li>
<li><p>apply和call动态调用</p>
</li>
</ul>
<h3 id="函数调用和引用本质"><a href="#函数调用和引用本质" class="headerlink" title="函数调用和引用本质"></a>函数调用和引用本质</h3><p>函数被调用之前,没有实际价值,在预编译时,也只是简单分析词法,语法结构,并根据标识符预定一个函数占据内存,内部逻辑并没有执行,一旦函数执行会立即产生上下文,是一个动态环境,动态的概念.</p>
<p>引用:当引用函数时,多个变量内存储的是相同的入口指针,指向同一块内存.</p>
<p>调用:执行函数,并返回函数的返回值.</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>函数和对其周围状态（词法环境）的引用捆绑在一起构成闭包。也就是说，闭包可以让你从内部函数访问外部函数作用域</p>
<p><strong>闭包两个用途</strong></p>
<ul>
<li><p>内部函数访问外部函数作用域</p>
</li>
<li><p>让这些变量的值始终保持在内存中</p>
</li>
</ul>
<p><strong>注意事项</strong></p>
<ul>
<li><p>由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包</p>
</li>
<li><p>闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法，把内部变量当作它的私有属性，这时不要随便改变父函数内部变量的值</p>
</li>
</ul>
<p><strong>在循环中创建闭包：一个常见错误</strong></p>
<ul>
<li>下面代码你会发现没有达到预期，返回 <code>这是0 这是1 这是2</code>，结果都是 <code>这是2</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">let queue = [];</span><br><span class="line">function setupHelp() &#123;</span><br><span class="line">  var obj = &#123;</span><br><span class="line">    &quot;0&quot;: &quot;这是0&quot;,</span><br><span class="line">    &quot;1&quot;: &quot;这是1&quot;,</span><br><span class="line">    &quot;2&quot;: &quot;这是2&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  for (var i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">    var text = obj[i];</span><br><span class="line">    queue.push(function () &#123;</span><br><span class="line">      console.log(text);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // 解决问题的代码使用更多闭包</span><br><span class="line">    // function out(a) &#123;</span><br><span class="line">    //   return function aa() &#123;</span><br><span class="line">    //     console.log(a);</span><br><span class="line">    //   &#125;;</span><br><span class="line">    // &#125;</span><br><span class="line">    // queue.push(out(text));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setupHelp();</span><br><span class="line"></span><br><span class="line">while (queue.length) &#123;</span><br><span class="line">  queue.shift()();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>闭包是由他们的函数（aa）定义和在 setupHelp 作用域中捕获的环境所组成的</p>
</li>
<li><p>这三个闭包在循环中被创建，但他们共享了同一个词法作用域，在这个作用域中存在一个变量text</p>
</li>
<li><p>变量 text 使用var进行声明，由于变量提升，所以具有函数作用域</p>
</li>
<li><p>当queue.shift()()执行时，由于循环在事件触发之前早已执行完毕，变量text（被三个闭包所共享）已经是最后一个值</p>
</li>
</ol>
<h3 id="惰性和非惰性"><a href="#惰性和非惰性" class="headerlink" title="惰性和非惰性"></a>惰性和非惰性</h3><p>非惰性:不管表达式是否被利用,只要在执行代码中,都会被计算</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = 2</span><br><span class="line"></span><br><span class="line">function f (x) &#123;</span><br><span class="line">  return x</span><br><span class="line">&#125;</span><br><span class="line">console.log(f(a, a=a*a))</span><br><span class="line">console.log(f(a))</span><br></pre></td></tr></table></figure>
<p>惰性: 对函数或请求的处理延迟到真正需要结果时在进行处理。它的目的是要最小化计算机要做的工作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 每次调用f都会重新求值</span><br><span class="line">var t;</span><br><span class="line">function f() &#123;</span><br><span class="line">    t = t ? t : new Date();</span><br><span class="line">    return t;</span><br><span class="line">&#125;</span><br><span class="line">f()</span><br><span class="line"></span><br><span class="line">改进：</span><br><span class="line"></span><br><span class="line">var f = function () &#123;</span><br><span class="line">    console.log(33)  // 只执行一次</span><br><span class="line">    var t = new Date()  // 只执行一次</span><br><span class="line">    f = function () &#123;</span><br><span class="line">        return t;</span><br><span class="line">    &#125;</span><br><span class="line">    return f();</span><br><span class="line">&#125;</span><br><span class="line">console.log(f())</span><br><span class="line">console.log(f())</span><br><span class="line">console.log(f())</span><br><span class="line">console.log(f())</span><br><span class="line">console.log(f())</span><br></pre></td></tr></table></figure>
<h3 id="weakMap"><a href="#weakMap" class="headerlink" title="weakMap"></a>weakMap</h3><ol>
<li>WeakMap 只接受对象作为键名</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const map = new WeakMap();</span><br><span class="line">map.set(&apos;key&apos;, 2);  // TypeError: Invalid value used as weak map key</span><br><span class="line">map.set(null, 2);   // TypeError: Invalid value used as weak map key</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>WeakMap 的键名所引用的对象是弱引用</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const e1 = document.getElementById(&apos;foo&apos;);</span><br><span class="line">const e2 = document.getElementById(&apos;bar&apos;);</span><br><span class="line">const arr = [</span><br><span class="line">  [e1, &apos;foo 元素&apos;],</span><br><span class="line">  [e2, &apos;bar 元素&apos;],</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>上面代码，一旦不再需要e1和e2这两个对象，我们就必须手动删除这个引用，否则垃圾回收机制就不会释放e1和e2占用的内存，造成内存泄露</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr [0] = null;</span><br><span class="line">arr [1] = null;</span><br></pre></td></tr></table></figure>
<p>WeakMap 则很好的解决了这个问题，如果你要往对象上添加数据，又不想干扰垃圾回收机制，就可以使用 WeakMap</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const wm = new WeakMap();</span><br><span class="line">const element = document.getElementById(&apos;example&apos;);</span><br><span class="line">wm.set(element, &apos;some information&apos;);</span><br><span class="line">wm.get(element)</span><br></pre></td></tr></table></figure>
<p><a href="https://juejin.im/post/6844903646623186958#heading-5" target="_blank" rel="noopener">论证代码</a></p>
<h3 id="垃圾回收机制"><a href="#垃圾回收机制" class="headerlink" title="垃圾回收机制"></a>垃圾回收机制</h3><p>JS引擎中对变量的存储主要有两种位置，栈内存和堆内存</p>
<ul>
<li><p>栈内存存储基本类型数据以及引用类型数据的内存地址</p>
</li>
<li><p>堆内存储存引用类型的数据</p>
</li>
</ul>
<p>标记清除</p>
<ul>
<li><p>当变量进入环境时，就将其标记为“进入环境”</p>
</li>
<li><p>当变量离开环境时将其标记为“离开环境”</p>
</li>
</ul>
<p>标记清除采用的收集策略</p>
<ul>
<li><p>JavaScript中的垃圾收集器运行时会给存储在内存中的所有变量都加上标记</p>
</li>
<li><p>去掉环境中的变量以及被环境中的变量引用的变量的标记</p>
</li>
<li><p>剩余有标记的变量被视为准备删除的变量</p>
</li>
<li><p>垃圾收集器完成内存清除，销毁并回收其占用的内存</p>
</li>
</ul>
<p>引用计数</p>
<p>跟踪记录每个值被引用的次数</p>
<ul>
<li><p>当声明一个变量并将一个引用类型值赋值给该变量时，这个值的引用次数为1</p>
</li>
<li><p>若同一个值(变量)又被赋值给另一个变量，则该值的引用次数加1</p>
</li>
<li><p>但是如果包含对这个值引用的变量又取得了另外一个值，则这个值的引用次数减1</p>
</li>
<li><p>当这个值的引用次数为0时，则无法再访问这个值，就可回收其占用的内存空间</p>
</li>
</ul>
<p>避免如下的循环引用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const a = &#123;key: 1&#125;</span><br><span class="line">const b = &#123;key: 2&#125;</span><br><span class="line"></span><br><span class="line">a.point = b</span><br><span class="line">b.point = a</span><br></pre></td></tr></table></figure>
<p>V8 引擎的垃圾回收机制</p>
<p>V8 引擎将保存对象的 堆 (heap) 进行了分代</p>
<p>对象最初会被分在 新生区(New Space) (1~8M)，新生区的内存分配只需要保有一个指向内存区的指针，不断根据内存大小进行递增，当指针达到新生区的末尾，会有一次垃圾回收清理(小周期)，清理掉新生区中不再活跃的死对象。</p>
<p>对于超过 2 个小周期的对象，则需要将其移动至 老生区(Old Space)。老生区在 标记-清除 或 标记-紧缩 的过程(大周期) 中进行回收。</p>
<p><a href="http://newhtml.net/v8-garbage-collection/" target="_blank" rel="noopener">v8垃圾回收</a></p>
<h3 id="JS-面向对象"><a href="#JS-面向对象" class="headerlink" title="JS 面向对象"></a>JS 面向对象</h3><ul>
<li><p>面向对象语言的三大特征： 封装、继承、多态</p>
</li>
<li><p>各自特点：</p>
</li>
</ul>
<p>封装： 是隐藏逻辑实现过程，只对外暴露属性和方法，提高安全性和复用性； </p>
<p>继承： 建立对象之间的父子关系，使子对象拥有父级对象的属性和方法，提高复用性；</p>
<p>多态： 在同一个方法中，由于参数不同而导致执行效果各异，便于拓展；</p>
<ul>
<li><p>JS中函数继承主要继承的是函数名，不是函数体，函数本身是引用类型，通过构造方法生产新的对象时，只是指针的存储变动而不是函数体</p>
</li>
<li><p>所有字符串都是String的实例，数字都是Number的实例，字符串和数字本身没有方法，都是通过原型链分别找到了String和Number的方法</p>
</li>
<li><p>一段流畅的动画帧与帧之间间隔有什么要求:  多数情况下最高的绘制频率只能是每秒60帧，对应于显示器的60Hz，低于该频率，画面卡顿，高于该频率，耗费性能。因此采用的时间间隔就是1/60,也就是16.7ms</p>
</li>
</ul>
<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">typeof (() =&gt; &#123;&#125;)             // function</span><br><span class="line">typeof []                     // object</span><br><span class="line">typeof &#123;&#125;                     // object</span><br><span class="line">typeof null                   // object</span><br><span class="line">typeof undefined              // undefined</span><br><span class="line">typeof (new Promise(() =&gt; &#123;&#125;))// object</span><br><span class="line">typeof Promise                // function</span><br><span class="line">typeof Symbol(&apos;3&apos;)            // symbol</span><br><span class="line">typeof 3                      // number</span><br><span class="line">typeof true                   // boolean</span><br><span class="line">typeof &apos;&apos;                     // string</span><br><span class="line">&apos;子君&apos; instanceof String      // false</span><br><span class="line">new Date() instanceof Date    // true</span><br></pre></td></tr></table></figure>
<p>instanceof 运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上 <code>object instanceof constructor</code></p>
<p>instanceof，无法判断基本类型，但可以正确判断引用类型</p>
<p><strong>对象的toString</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const d = &#123;&#125;</span><br><span class="line">const e = &#123;key: &apos;1&apos;&#125;</span><br><span class="line">const f = &#123;key: &apos;2&apos;&#125;</span><br><span class="line">d[e] = &apos;12&apos;</span><br><span class="line">d[f] = &apos;21&apos;</span><br><span class="line"></span><br><span class="line">console.log(d[e])   // 21</span><br></pre></td></tr></table></figure>
<p>因为e和f都是对象，而对象的key只能是数值或字符，所以会将对象转换为字符，对象的toString方法返回的是[object Object]</p>
<h3 id="基本包装类型"><a href="#基本包装类型" class="headerlink" title="基本包装类型"></a>基本包装类型</h3><p> 为了便于操作基本类型值，ECMAScript 提供了 3 个特殊的引用类型：Boolean、Number 和String，每当读取一个基本类型值得时候，后台就会创建一个对应的基本包装类型的对象，从而让我们能够调用一些方法来操作这些数据</p>
<p> <em>例</em></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var s1=&quot;some text&quot;;  </span><br><span class="line">var s2=s1.substring(2);</span><br></pre></td></tr></table></figure>
<p>s1 是基本类型值，而s1代码调用了 substring() 方法，我们知道，基本类型值不是对象，因而从逻辑上讲它们不应该有方法。</p>
<p>为了让我们实现这种直观的操作，后台已经自动完成了一系列的处理。当第二行代码访问 s1 时，访问过程处于一种读取模式，也就是从内存中读取这个字符串的值。而在读取模式中访问字符串时，后台都会自动完成下列处理。</p>
<ul>
<li><p>创建 String 类型的一个实例；</p>
</li>
<li><p>在实例上调用指定的方法；</p>
</li>
<li><p>销毁这个实例；</p>
</li>
</ul>
<p><strong>类比过程如下</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var s1=new String(&quot;some text&quot;);  </span><br><span class="line"></span><br><span class="line">var s2=s1.substring(2);  </span><br><span class="line"></span><br><span class="line">s1=null;</span><br></pre></td></tr></table></figure>
<p><strong>引用类型与基本包装类型的主要区别就是对象的生存期</strong></p>
<h3 id="设计模式原则"><a href="#设计模式原则" class="headerlink" title="设计模式原则"></a>设计模式原则</h3><p>单一职责原则：</p>
<ul>
<li><p>一个程序只做好一件事</p>
</li>
<li><p>如果功能过于复杂就拆分开，每个部分保持独立</p>
</li>
</ul>
<p>开放封闭原则：</p>
<ul>
<li><p>对扩展开放，对修改封闭</p>
</li>
<li><p>增加需求时，扩展新代码，而非修改已有代码</p>
</li>
</ul>
<p>里氏替换原则：</p>
<ul>
<li><p>子类能覆盖父类</p>
</li>
<li><p>父类能出现的地方子类就能出现</p>
</li>
</ul>
<p>接口隔离原则：</p>
<ul>
<li><p>保持接口的单一独立</p>
</li>
<li><p>类似单一职责原则，这里更关注接口</p>
</li>
</ul>
<p>依赖倒转原则：</p>
<ul>
<li><p>面向接口编程，依赖于抽象而不依赖于具体</p>
</li>
<li><p>使用方只关注接口而不关注具体类的实现</p>
</li>
</ul>
<h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><h4 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h4><p>工厂模式是为了解决多个类似对象声明的问题;也就是为了解决实列化对象产生重复的问题。</p>
<p>将其成员对象的实列化推迟到子类中，子类可以重写父类接口方法以便创建的时候指定自己的对象类型。</p>
<p>父类只对创建过程中的一般性问题进行处理，这些处理会被子类继承，子类之间是相互独立的，具体的业务逻辑会放在子类中进行编写。</p>
<p>第一：弱化对象间的耦合，防止代码的重复。在一个方法中进行类的实例化，可以消除重复性的代码。</p>
<p>第二：重复性的代码可以放在父类去编写，子类继承于父类的所有成员属性和方法，子类只专注于实现自己的业务逻辑。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Product &#123;</span><br><span class="line">    constructor(name) &#123;</span><br><span class="line">        this.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    common() &#123;</span><br><span class="line">        console.log(&apos;common&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Factory &#123;</span><br><span class="line">    create(name) &#123;</span><br><span class="line">        return new Product(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let factory = new Factory()</span><br><span class="line">let p = factory.create(&apos;p1&apos;)</span><br><span class="line">p.common()</span><br></pre></td></tr></table></figure>
<h4 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h4><ul>
<li><p>定义了一种一对多的关系</p>
</li>
<li><p>让多个观察者对象同时监听某一个主题对象，这个主题对象的状态发生变化时就会通知所有的观察者对象，使它们能够自动更新</p>
</li>
</ul>
<p><strong>使用场景</strong></p>
<p>当一个对象的改变需要同时改变其它对象，且不知道具体有多少对象需要改变</p>
<p>实例：vue源码解析 和 Promise 源码解析</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">class Subject &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.state = 0</span><br><span class="line">    this.observersQueue = []</span><br><span class="line">  &#125;</span><br><span class="line">  getState() &#123;</span><br><span class="line">    return this.state</span><br><span class="line">  &#125;</span><br><span class="line">  setState(state) &#123;</span><br><span class="line">    this.state = state</span><br><span class="line">    this.notify()</span><br><span class="line">  &#125;</span><br><span class="line">  notify() &#123;</span><br><span class="line">    this.observersQueue.forEach(observer =&gt; &#123;</span><br><span class="line">      observer.update()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  add(observer) &#123;</span><br><span class="line">    this.observersQueue.push(observer)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 观察者</span><br><span class="line">class Observer &#123;</span><br><span class="line">  constructor(name, subject) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.subject = subject</span><br><span class="line">    this.subject.add(this)</span><br><span class="line">  &#125;</span><br><span class="line">  update() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; update`)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 测试</span><br><span class="line">let s = new Subject()</span><br><span class="line">let o1 = new Observer(&apos;o1&apos;, s)</span><br><span class="line">let o2 = new Observer(&apos;02&apos;, s)</span><br><span class="line"></span><br><span class="line">// 修改数据后通知更新</span><br><span class="line">s.setState(12)</span><br></pre></td></tr></table></figure>
<p><strong>优点</strong></p>
<ul>
<li><p>支持简单的广播通信，自动通知所有已经订阅过的对象</p>
</li>
<li><p>目标对象与观察者之间的抽象耦合关系能单独扩展以及重用</p>
</li>
<li><p>松散耦合</p>
</li>
</ul>
<p><strong>缺点</strong></p>
<p>过度使用会导致对象与对象之间的联系弱化，会导致程序难以跟踪维护和理解</p>
<p><strong>发布订阅模式</strong></p>
<ul>
<li><p>在设计模式结构上，发布订阅模式继承自观察者模式，是观察者模式的一种实现的变体，在设计模式意图上，两者关注点不同，一个关心数据源，一个关心的是事件消息，在观察者模式中增加了中间事件管理层</p>
</li>
<li><p>数据源告诉第三方（事件频道）发生了改变，第三方再通知订阅者发生了改变</p>
</li>
<li><p>在发布订阅模式里，发布者，并不会直接通知订阅者，换句话说，发布者和订阅者，彼此互不相识</p>
</li>
<li><p>发布订阅模式里，发布者和订阅者，不是松耦合，而是完全解耦的</p>
</li>
</ul>
<h3 id="vue-和-react"><a href="#vue-和-react" class="headerlink" title="vue 和 react"></a>vue 和 react</h3><p>Vue三要素</p>
<p>响应式: 例如如何监听数据变化,其中的实现方法就是我们提到的双向绑定</p>
<p>模板引擎: 如何解析模板</p>
<p>渲染: Vue如何将监听到的数据变化和解析后的HTML进行渲染</p>
<p>基于数据劫持的双向绑定, 目前Vue在用的Object.defineProperty,另一个是ES2015中新增的Proxy,而Vue的作者宣称将在Vue3.0版本后加入Proxy从而代替Object.defineProperty</p>
<h3 id="数据劫持的优势"><a href="#数据劫持的优势" class="headerlink" title="数据劫持的优势"></a>数据劫持的优势</h3><p>目前业界分为两个大的流派,一个是以React为首的单向数据绑定,另一个是以Angular、Vue为主的双向数据绑定</p>
<p><strong>数据劫持的优势所在</strong></p>
<p>无需显示调用: 例如Vue运用数据劫持+发布订阅,直接可以通知变化并驱动视图,</p>
<p>可精确得知变化数据：我们劫持了属性的setter,当属性值改变,我们可以精确获知变化的内容newVal,因此不需要额外的diff操作, 如果只知道变化不知道变化在哪里，需要大量的diff比较。</p>
<p><strong>数据劫持双向绑定的实现思路</strong></p>
<ul>
<li><p>利用Proxy或Object.defineProperty生成的Observer针对对象/对象的属性进行”劫持”,在属性发生变化后通知订阅者</p>
</li>
<li><p>解析器Compile解析模板中的Directive(指令)，收集指令所依赖的方法和数据,等待数据变化然后进行渲染</p>
</li>
<li><p>Watcher属于Observer和Compile桥梁,它将接收到的Observer产生的数据变化,并根据Compile提供的指令进行视图渲染,使得数据变化促使视图变化</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuyongshun.github.io/2019/09/03/JS-principle/" data-id="ckh18vjqg00auj6cu3akp7hn3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/30/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="page-number" href="/page/30/">30</a><span class="page-number current">31</span><a class="page-number" href="/page/32/">32</a><a class="page-number" href="/page/33/">33</a><span class="space">&hellip;</span><a class="page-number" href="/page/72/">72</a><a class="extend next" rel="next" href="/page/32/">下一页</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DEV/">DEV</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DEV/trouble/">trouble</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/">ES6</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/array/">array</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/async/">async</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/class/">class</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/decorate/">decorate</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/export-import/">export&import</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/fuction/">fuction</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/generator/">generator</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/object/">object</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/promise/">promise</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/proxy/">proxy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/reflect/">reflect</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/set-map/">set&map</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/string/">string</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES6/variable-deconstruction/">variable&deconstruction</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/FLUTTER/">FLUTTER</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/FLUTTER/dart/">dart</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/FLUTTER/env/">env</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/H5/">H5</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/H5/h5-history/">h5 history</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/H5/h5-video/">h5 video</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML-CSS/">HTML & CSS</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HTML-CSS/HTML-CSS/">HTML & CSS</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HYBRID/">HYBRID</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HYBRID/hybrid/">hybrid</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JS/FP/">FP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/algorithm/">algorithm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/algorithm2/">algorithm2</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/base/">base</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/data-constructor/">data constructor</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/principle/">principle</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/">NODE</a><span class="category-list-count">11</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/express/">express</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/module/">module</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/mongo/">mongo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/mongoCommand/">mongoCommand</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/mongoOprate/">mongoOprate</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/mongoodb/">mongoodb</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/node-api/">node api</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/node-buffer/">node buffer</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/node-eventloop/">node eventloop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/node-stream/">node stream</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NODE/variable/">variable</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/NPM/">NPM</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NPM/cli/">cli</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NPM/npm-package/">npm package</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/PLAY/">PLAY</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/PLAY/photo/">photo</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/REACT/">REACT</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/REACT/hook/">hook</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/REACT/react/">react</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/REACT/redux/">redux</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/">TOOL</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/chrome/">chrome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/chrome-perf/">chrome-perf</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/debug/">debug</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/frequently/">frequently</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/mac/">mac</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/nginx/">nginx</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/vscode-plugin/">vscode plugin</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TS/">TS</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TS/ts-base/">ts base</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/VUE/">VUE</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/VUE/principle/">principle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/VUE/vueRouter/">vueRouter</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB/">WEB</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WEB/web/">web</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEBPACK/">WEBPACK</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WEBPACK/ast/">ast</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEBPACK/plugin/">plugin</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEBPACK/webpack-react/">webpack-react</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEBPACK/webpackDescription/">webpackDescription</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEEX/">WEEX</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WEEX/use/">use</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEEX/weex/">weex</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cache/">cache</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/cache/cache/">cache</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/performance/">performance</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/performance/performance/">performance</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/performance/time-slice/">time slice</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/DEV/">DEV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5/">H5</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HYBRID/">HYBRID</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/">JS</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NODE/">NODE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/">NPM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REACT/">REACT</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS/">TS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cli/">cli</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter/">flutter</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance/">performance</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/play/">play</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/variable/">variable</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/">vscode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/weex/">weex</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/DEV/" style="font-size: 10px;">DEV</a> <a href="/tags/ES6/" style="font-size: 11.43px;">ES6</a> <a href="/tags/H5/" style="font-size: 11.43px;">H5</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/HYBRID/" style="font-size: 10px;">HYBRID</a> <a href="/tags/JS/" style="font-size: 17.14px;">JS</a> <a href="/tags/NODE/" style="font-size: 10px;">NODE</a> <a href="/tags/NPM/" style="font-size: 11.43px;">NPM</a> <a href="/tags/REACT/" style="font-size: 12.86px;">REACT</a> <a href="/tags/TS/" style="font-size: 10px;">TS</a> <a href="/tags/cli/" style="font-size: 10px;">cli</a> <a href="/tags/es6/" style="font-size: 20px;">es6</a> <a href="/tags/flutter/" style="font-size: 11.43px;">flutter</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/node/" style="font-size: 18.57px;">node</a> <a href="/tags/performance/" style="font-size: 12.86px;">performance</a> <a href="/tags/play/" style="font-size: 10px;">play</a> <a href="/tags/tool/" style="font-size: 15.71px;">tool</a> <a href="/tags/variable/" style="font-size: 10px;">variable</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/vue/" style="font-size: 11.43px;">vue</a> <a href="/tags/webpack/" style="font-size: 14.29px;">webpack</a> <a href="/tags/weex/" style="font-size: 11.43px;">weex</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/07/02/node-cache/">cache</a>
          </li>
        
          <li>
            <a href="/2020/10/11/webpack-react/">webpack react</a>
          </li>
        
          <li>
            <a href="/2020/08/11/ts-base/">ts base</a>
          </li>
        
          <li>
            <a href="/2020/07/20/performance-time-split/">time slice</a>
          </li>
        
          <li>
            <a href="/2020/06/19/AST/">AST</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <ul class="hobby-outer">
      <li class="hobby-item"><a href="http://blog.csdn.net/liuyongshun2/article">CSDN</a></li>
      <li class="hobby-item"><a href="https://github.com/liuyongshun">GITHUB</a></li>
    </ul>
    <div id="footer-info" class="inner">
      &copy; 2020 cheat&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1274642270'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1274642270%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>



    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/link" class="mobile-nav-link">链接</a>
  
</nav>
    

<script src="https://code.jquery.com/jquery-latest.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<div id="totop">
  <a title="javascript:;">返回<br>顶部</a>
</div>
<script src="/js/totop.js"></script>

  </div>
</body>
</html>